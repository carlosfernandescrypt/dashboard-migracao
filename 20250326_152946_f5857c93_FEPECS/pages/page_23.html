<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validação: Perfil do Ouvidor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding-top: 20px; padding-bottom: 50px; }
        .validation-card { margin-bottom: 20px; }
        .error-details { 
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            white-space: pre-wrap;
        }
        .navbar { position: fixed; bottom: 0; width: 100%; z-index: 100; }
        .approval-btn { margin-top: 15px; }
        .nav-bottom { 
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #f8f9fa;
            border-top: 1px solid #ddd;
            padding: 10px 0;
            z-index: 1000;
        }
        .page-container { margin-bottom: 60px; }
    </style>
</head>
<body>
    <div class="container page-container">

        <h1 class="mb-4">Detalhes da Validação</h1>
        <div class="card validation-card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Perfil do Ouvidor</h5>
                <span id="pageStatusBadge" class="badge bg-danger">Inválida</span>
            </div>
            <div class="card-body">
                <div class="row mb-3">
                    <div class="col-md-6">
                        <strong>URL Original:</strong> 
                        <a href="https://www.fepecs.edu.br/perfil-do-ouvidor" target="_blank" class="btn btn-sm btn-outline-primary">https://www.fepecs.edu.br/perfil-do-ouvidor</a>
                    </div>
                    <div class="col-md-6">
                        <strong>URL Migrada:</strong> 
                        <a href="https://fepecs-hml.edu.br:8443/perfil-do-ouvidor" target="_blank" class="btn btn-sm btn-outline-primary">https://fepecs-hml.edu.br:8443/perfil-do-ouvidor</a>
                    </div>
                </div>
                
                <div class="mb-3">
                    <strong>Timestamp:</strong> 2025-03-25 23:03:22
                </div>
                
                <div class="mb-3">
                    <strong>Scores de Similaridade:</strong>
                    <ul class="list-group">
                        <li class="list-group-item">Conteúdo: 40%</li>
                        <li class="list-group-item">Estrutura: 30%</li>
                    </ul>
                </div>
                
                <h5 class="mt-4 mb-3">Erros Encontrados:</h5>
                <ul class="list-group">
<li class="list-group-item text-danger">Content Mismatch: Conteúdo principal não corresponde ao original (Similaridade: 40.00%):
Removido: '16/09/21 às 16h46 - atualizado em 20/03/25 às 16h05 perfil do ouvidor'
Alterado de 'muriele ferreira de melo habilidades & competências –' para 'adriana de matos sousa cargo efetivo: analista em gestão e assistência pública à saúde (ses/df) cargo comissionado: chefe da ouvidoria data da nomeação: 10 de agosto de 2021. (dodf nº 150) resumo profissional: formação: letras português; instituição: unigran dourados. mato grosso do sul, 2013 especialização latu sensu em revisão de textos; instituição: universidade católica de brasília, 2020. cursos realizados: lei geral de proteção de dados (lgpd), egov 20h. ano 2023 formação em ouvidoria, egov 25h. ano 2022 inteligência emocional, enap, 50h. ano 2022 linguagem simples, egov 8h. ano 2022'
Alterado de '– liderança – trabalho em equipe – resolutividade' para 'no ambiente de ouvidoria, egov 8h. ano 2022 relatórios de ouvidoria, egov 8h. ano 2022 comitês internos de governança (cig’s): desafios e aculturamento, egov 14h. ano 2022 atendimento em ouvidoria (casos complexos), egov 8h. ano 2022 formação de formadores, egov 40h. ano 2021 assédio na administração pública, egov 12h. ano 2021 gestão de conflitos em ouvidoria, egov 4h. ano 2021 formação de formadores, egov 40h. ano 2021 gestão de riscos e integridade, egov 4h. ano 2021 gestão da informação e relatórios de ouvidoria, egov 4h. ano 2021 planejamento estratégico em ouvidoria, egov 4h. ano 2021 ii jornada desenvolver – dicas valiosas de português e redação oficial, egov 02h. ano 2021 análise de denúncia no âmbito correcional, egov 04h. ano 2021 ii jornada desenvolver – os princípios da comunicação não violenta, egov 02h. ano 2021 formação em ouvidoria, egov 25h. ano 2021 transparência, ética e controle social, egov 36h. ano 2021 acordo ortográfico da língua portuguesa, egov 20h. ano 2021 atendimento inclusivo e acessível em ouvidoria, egov 04h. ano 2021 qualidade da resposta em ouvidoria, egov 04h. ano 2021 lei geral de proteção de dados (lgpd) aplicada às ouvidorias públicas, egov 04h. ano 2021 primeiros passos para uso de linguagem simples, enap 08h. ano 2021 formação em ouvidoria: carta de serviços, egov 08h. ano 2019 formação em ouvidoria: inteligência e governança em ouvidoria, egov 08h. ano 2019 gestão do tempo e efetividade, egov 20h. ano 2019 excelência no atendimento – ilb – senado federal 08h. ano 2018 formação em ouvidoria- módulo: qualidade da resposta de ouvidoria, egov: 08h. ano 2018 mediação de conflitos em ouvidoria – egov 20h. ano 2017 gestão em ouvidoria, enap: 20h. ano 2017 novo acordo ortográfico da língua portuguesa, egov: 20h. ano 2014'
Alterado de 'administradora – conselho federal de administração  setor de comunicação social– de 2008 ate 2010  setor de recursos humanos – de 2010 a 2011  assessoria da vice-presidencia-de 2011 a 2012 administradora – secretaria de estado de' para 'profissional cargo: chefe da ouvidoria da fepecs período:2021 – atual cargo: analista em gestão e assistência pública à'
Alterado de '– central de compras/suag- de 2012 a maio de 2013; – nuan (núcleo de anab ´lise de tr)/dapa(hojediaq)/suag–de maio de 2013 a março de 2014; – nucom (núcleo de pesquisa de preços)/dapa (hoje diaq)/suag –' para 'período: 2021 (até 19 de agosto 2021) cargo: assessora unidade setorial de ouvidoria da ses/df período: 2019-2021 (até fevereiro 2021) cargo:'
Alterado de 'de março de 2014 a julho a 2014; – nucom (núcleo de compras diretas)/dapa (hojediaq)/suag –de julho de 2014 a dezembro de 2015; – corregedoria da' para 'da ouvidoria do hospital regional de brazlândia período: 2016-2018 cargo: técnico administrativo na unidade básica de'
Alterado de '(atual uscor) – comissões -presidente de comissão de dezembro de 2015 a abril de 2018; – dipad/uscor – de abril de 2018 a outubro de 2018; – comisso˜es/uscor – presidente de outubro de 2018 ate maio de 2020; – ustrac/cont – de maio de 2020 a julho de 2020; – geaco/ouvidoria/cont – de julho de 2020 a janeiro de 2021. – getric/ouvidoria/cont – de janeiro de 2021 até julho de 2023. – getric/ouvidoria/cont – gerente da gerência de triagem e controle de qualidade – de julho de 2023 até o momento. educação graduação: administração – universidade de brasília–unb pós-graduação:direito público(em conclusão) cursos: -elaboração de projeto ba’sico e termo de referência – egov – processo disciplinar – egov – contratação direta – dispensa e inexigibilidade de licitação – o processo de contratação pública – tcdf – atividade correcional – acesso à informação – defesa' para 'n°01 de brazlândia período: 2013-2016 cargo: técnico em meteorologia. instituição: marinha'
Alterado de 'usuário e simplificação – me poupe!invista com nathalia arcuri – metodologia e análise para solução de problemas – masp – formação em ouvidoria – avaliação de qualidade de serviços – tratamento de denúncias – sei! usar – rito sumário – lei de abuso de autoridade, medida provisória nº 928/2020 e medida provisória nº 966/2020 – ajustamento de conduta – prescrição – indiciamento e relatório final – enquadramentos e sanções disciplinares – condução de processos disciplinares – procedimentos disciplinares – juízo de admissibilidade' para 'brasil período: 2009-2013'</li><li class="list-group-item text-danger">HTML Structure Mismatch: Estrutura HTML divergente (Similaridade: 30.00% < 80.0%)</li><li class="list-group-item text-danger">Menu Mismatch: Menu não corresponde ao original:
Diferença no número de links visíveis: Original (13) vs Migrado (12)</li>
                </ul>
                
                <div class="approval-btn">
                    <button id="approveBtn" class="btn btn-success" onclick="approvePage('page_23')">
                        Aprovar Página
                    </button>
                    <button id="rejectBtn" class="btn btn-danger ms-2" onclick="rejectPage('page_23')">
                        Rejeitar Página
                    </button>
                    <div id="approvalStatus" class="mt-2"></div>
                </div>
            </div>
        </div>
        
        <div class="mt-4">
            <a href="../index.html" class="btn btn-primary">Voltar para o Dashboard</a>
        </div>
    </div>
    
    <div class="nav-bottom">
        <div class="container">
            <div class="d-flex justify-content-between">
                <span class="text-muted">Validação de migração de páginas</span>
                <span class="text-muted">Gerado em: 26/03/2025 15:29:46</span>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Variáveis de configuração
        const reportId = 'f5857c93';
        const pageId = 'page_23';
        
        // Função para buscar aprovações da API
        async function fetchApprovals() {
            try {
                const response = await fetch(`/api/approvals/${reportId}/${pageId}`);
                if (!response.ok) {
                    throw new Error('Erro ao buscar aprovações');
                }
                return await response.json();
            } catch (error) {
                console.error('Erro:', error);
                return {};
            }
        }
        
        // Função para enviar aprovação para a API
        async function sendApproval(status) {
            try {
                const response = await fetch(`/api/approvals/${reportId}/${pageId}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        status: status,
                        user: 'validador'
                    }),
                });
                
                if (!response.ok) {
                    throw new Error('Erro ao enviar aprovação');
                }
                
                return await response.json();
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao enviar aprovação. Tente novamente.');
                return null;
            }
        }
        
        // Gerenciamento de aprovação usando a API
        async function approvePage() {
            const result = await sendApproval('approved');
            if (result) {
                updateUI();
                alert("Página aprovada! Esta página aparecerá na seção de páginas aprovadas quando você voltar ao dashboard.");
            }
        }
        
        async function rejectPage() {
            const result = await sendApproval('rejected');
            if (result) {
                updateUI();
            }
        }
        
        async function updateUI() {
            const approval = await fetchApprovals();
            const status = document.getElementById('approvalStatus');
            const approveBtn = document.getElementById('approveBtn');
            const rejectBtn = document.getElementById('rejectBtn');
            const statusBadge = document.getElementById('pageStatusBadge');
            
            if (approval && approval.status) {
                if (approval.status === 'approved') {
                    status.innerHTML = '<div class="alert alert-success">Página aprovada!</div>';
                    statusBadge.textContent = 'Aprovada';
                    statusBadge.classList.remove('bg-danger');
                    statusBadge.classList.add('bg-success');
                    approveBtn.disabled = true;
                    rejectBtn.disabled = false;
                } else {
                    status.innerHTML = '<div class="alert alert-danger">Página rejeitada!</div>';
                    statusBadge.textContent = 'Rejeitada';
                    statusBadge.classList.remove('bg-success');
                    statusBadge.classList.add('bg-danger');
                    approveBtn.disabled = false;
                    rejectBtn.disabled = true;
                }
            } else {
                status.innerHTML = '';
                statusBadge.textContent = 'Inválida';
                statusBadge.classList.remove('bg-success');
                statusBadge.classList.add('bg-danger');
                approveBtn.disabled = false;
                rejectBtn.disabled = false;
            }
        }
        
        // Inicializar
        document.addEventListener('DOMContentLoaded', updateUI);
    </script>
</body>
</html>