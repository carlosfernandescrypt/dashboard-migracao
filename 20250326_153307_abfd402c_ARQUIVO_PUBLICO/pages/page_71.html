<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validação: Carta da capitania de Goiás – mapa dos julgados</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding-top: 20px; padding-bottom: 50px; }
        .validation-card { margin-bottom: 20px; }
        .error-details { 
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            white-space: pre-wrap;
        }
        .navbar { position: fixed; bottom: 0; width: 100%; z-index: 100; }
        .approval-btn { margin-top: 15px; }
        .nav-bottom { 
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #f8f9fa;
            border-top: 1px solid #ddd;
            padding: 10px 0;
            z-index: 1000;
        }
        .page-container { margin-bottom: 60px; }
    </style>
</head>
<body>
    <div class="container page-container">

        <h1 class="mb-4">Detalhes da Validação</h1>
        <div class="card validation-card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Carta da capitania de Goiás – mapa dos julgados</h5>
                <span id="pageStatusBadge" class="badge bg-danger">Inválida</span>
            </div>
            <div class="card-body">
                <div class="row mb-3">
                    <div class="col-md-6">
                        <strong>URL Original:</strong> 
                        <a href="https://www.arquivopublico.df.gov.br/carta-da-capitania-de-goias-mapa-dos-julgados-2" target="_blank" class="btn btn-sm btn-outline-primary">https://www.arquivopublico.df.gov.br/carta-da-capitania-de-goias-mapa-dos-julgados-2</a>
                    </div>
                    <div class="col-md-6">
                        <strong>URL Migrada:</strong> 
                        <a href="https://arquivopublico-hml.df.gov.br:8443/carta-corografica-plana-da-provincia-de-goias" target="_blank" class="btn btn-sm btn-outline-primary">https://arquivopublico-hml.df.gov.br:8443/carta-corografica-plana-da-provincia-de-goias</a>
                    </div>
                </div>
                
                <div class="mb-3">
                    <strong>Timestamp:</strong> 2025-03-25 20:47:17
                </div>
                
                <div class="mb-3">
                    <strong>Scores de Similaridade:</strong>
                    <ul class="list-group">
                        <li class="list-group-item">Conteúdo: 12%</li>
                        <li class="list-group-item">Estrutura: 17%</li>
                    </ul>
                </div>
                
                <h5 class="mt-4 mb-3">Erros Encontrados:</h5>
                <ul class="list-group">
<li class="list-group-item text-danger">Content Mismatch: Conteúdo principal não corresponde ao original (Similaridade: 12.00%):
Alterado de 'da capitania' para 'corográfica plana da província'
Alterado de '– mapa' para 'e'
Adicionado: 'o organizador de uma das mais importantes peças da cartografia goiana, raimundo josé da cunha matos, nasceu em portugal em 1776. seguiu carreira militar e formou-se em matemática pura e aplicada à artilharia. ainda jovem, participou da campanha militar contra a invasão francesa na península ibérica. em 1797 foi enviado à ilha de são tomé e príncipe, onde galgou vários cargos até ser nomeado, em 1816, governador interino dessa ilha. depois de quase vinte anos na ilha de são tomé e príncipe, já então tenente-coronel, veio'
Alterado de 'a introdução geral' para 'o brasil.1 no brasil, na condição de “reino unido” a portugal, participou diretamente dos conflitos políticos que terminaram com a independência do brasil. na dinâmica de consolidação da independência, foi enviado em 1823 à província de goiás como “governador das armas”. sua tarefa era resguardar as fronteiras do norte goiano e evitar a invasão das tropas portuguesas estabelecidas no pará, piauí e maranhão que ainda eram favoráveis a portugal. “logo após chegar a goiás, organizou uma expedição para visitar as localidades da província, a fim de passar revista nas tropas de primeira e segunda linha e contabilizar o efetivo existente. em 20 de setembro de 1823, cunha matos marchou para a comarca do norte, com o objetivo de proteger a fronteira contra as possíveis invasões das tropas portuguesas […]. lamentou a ausência de milicianos com os quais pudesse contar na região. o governador reclamou, ainda, que estava quase sem armamentos e cercado de inimigos no norte, onde havia homens que seguiam o partido de portugal”.2 terminadas as atribuições em goiás, regressou ao rio de janeiro em março de 1826. como fruto dessa permanência em goiás, consolidou informações utilizadas no seu “itinerário ao pará e maranhão pelas províncias de minas gerais e goiaz, seguido de huma descripção chorographica de goiaz, e dos roteiros desta província as de mato grosso e são paulo”, escrito em 1826, quando do término de suas atribuições como governador de armas de goiás. a obra é “fruto da conciliação de sua missão militar com seu objetivo de escrever um roteiro útil para os que viessem a se aventurar através dos caminhos pelos quais percorreu, e com sua velada intenção de beneficiar o novo governo com o apuro das descrições geográficas, da economia e do comércio das regiões que percorreu. […] as informações contidas em seu relato aparecem sob o formato de um diário de bordo, contendo sempre identificações de local, distância e data. sua marcha é minuciosamente descrita através dos horários e localidades de chegada e partida. os ranchos, fazendas, rios, pontes, córregos pelos quais passa também são rigorosamente anotados”.3 a respeito'
Alterado de 'consulte neste guia: arquivo histórico do exército: “carta' para 'organizado “para acompanhar os seus itinerários”, relata: “a maior parte do que escrevo foi por mim visto e examinado: fadigas extraordinárias, perigos iminentes são a moeda que me custou esta minha obra. não afianço a perfeição dela, porque na mesma frança e inglaterra não há perfeição absoluta em matérias geográficas; eu fiz quanto pude, e ainda mais faria se tivesse quem me auxiliasse. […] os meus itinerários e o resumo corográfico da província de goiás vão acompanhados do mapa geral dela, e dos termos dos julgados do araxá, e desemboque, da província de minas gerais, em três grandes folhas, e da carta de marcha desde o rio de janeiro até a serra da marcella da dita província de minas gerais. eu tinha intenção de publicar com estes mapas um atlas de centro e sete cartas topográficas e hidrográficas do interior do brasil, que se acham prontas para a litografia, em escala de polegada por légua. obstáculos com que eu não contava obrigaram-me a repô-las no mesmo lugar em que dantes as tinha conservado”.4 em relação à localização dos elementos em seu mapa, faz a seguinte ressalva: “as matérias mais importantes da geografia do interior do brasil e aquelas em que mais se anda às apalpadelas, são as latitudes e longitudes dos lugares. eu tenho motivos sobejos para afirmar que nas minas gerais e em goiás fizeram-se mui poucas observações astronômicas, e que a cerca das longitudes, tudo é obscuridade, pois que o mesmo barão de eschwege, na sua obra excelente sobre o brasil, e na qual apresenta uma larga tabela de latitudes, não se atreveu a marcar as longitudes, prova de conhecer que há incerteza completa a respeito de todas as que aparecem nos escritos dos historiadores. eu possuo uma larga coleção de longitudes e latitudes dos lugares do interior do brasil; e tive a desgraça de não encontrar dois pontos em que se conformassem. as mesmas marchas que eu fiz, as distâncias que havia de lugar a lugar, e os rumos a que respectivamente demoravam, mostraram-me os erros dos astrônomos jesuítas diogo soares e domingos capazzi;'
Alterado de 'plano geográfico da capitania' para 'para melhor dizer, eu fiquei entendendo que estes jesuítas não fizeram observações astronômicas de goiás”.4 e conclui: “devo pedir aos srs. que se acham à testa da administração pública de goiás, que continuem e aperfeiçoem os meus escritos: eu emendei os antigos mapas da província em mais de três mil pontos diferentes, por onde transitei, e daqueles de que recebi informações em que podia de certo modo confiar. ninguém pense que os meus mapas são absolutamente exatos: eu o declaro nos itinerários. se eu fiz mais de três mil emendas nos antigos mapas manuscritos, agora pelos itinerários e mapas impressos, proporciono os meios convenientes de se proceder a novos exames e às correções inumeráveis que será necessário praticar. eu apenas transitei pelas estradas gerais de goiás; não fiz explorações pelas terras desertas e ainda nas povoadas que ficavam fora de minha linha de marcha: só afianço aquilo que eu mesmo observei; e deixo a outros melhores do que eu, o mais que entenderem ainda faltar. a província'
Alterado de '– mapa dos julgados” esta é uma cópia “reduzida”, sem os textos do original do “mapa dos julgados”.' para 'não podia ser explorada em dois anos por um homem quase desacompanhado, e que, além dos entretenimentos geográficos, tinha muitas outras coisas em que cuidar”.4'
Alterado de 'da capitania' para 'corografica plana da província'
Alterado de 'levantada' para 'e dos julgados de araxá e desemboque da província de minas geraes, organisado'
Alterado de 'sargento mór thomas de souza em 1778.' para 'brigadeiro raimundo jozé da cunha mattos, governador das armas de goyaz, para acompanhar os seus itinerarios escritos em 1826 e publicados no anno de 1836. n.b as marchas do general cunha mattos vão marcadas em linha unida as outras estradas vão em linha ponteada escala de 18 legoas em um grao. [caixa lado superior esquerdo] copia exacta do mappa que mostra a navegação da f. de mogi-guassú ao arraial de anicuns. descuberta por joão caetano da silva em 1817. referências: 1 – vieira, martha victor. as idéias de raimundo josé da cunha mattos sobre o estado imperial brasileiro. anpuh – xxv simpósio nacional de história. fortaleza, 2009. 2 – vieira, martha victor. cunha mattos em goiás: os conflitos de jurisdição entre o governo das armas e o governo civil (1823-1826). revista territórios & fronteiras, cuiabá, vol. 5, n. 2, jul.-dez. 2012. 3 – queiroz, bianca martins. raimundo josé da cunha matos (1776-1839): “a pena e a espada a serviço da pátria”. dissertação de mestrado. universidade federal de juiz de fora, 2009. 4 – mattos, raimundo josé da cunha. itinerário ao pará e maranhão pelas províncias de minas gerais e goiaz, seguido de huma descripção chorographica de goiaz, e dos roteiros desta província as de mato grosso e são paulo. rio de janeiro, typographia imperial e constitucional de j. vilaleneuve e. c. tomo i e ii, 1836.'
Alterado de '57' para '40'
Alterado de '95' para '81'
Alterado de 's.d.' para '1875'
Alterado de 'co–go-10.01.2065' para 'co-go-10.01.2064'</li><li class="list-group-item text-danger">HTML Structure Mismatch: Estrutura HTML divergente (Similaridade: 17.00% < 80.0%)</li>
                </ul>
                
                <div class="approval-btn">
                    <button id="approveBtn" class="btn btn-success" onclick="approvePage('page_71')">
                        Aprovar Página
                    </button>
                    <button id="rejectBtn" class="btn btn-danger ms-2" onclick="rejectPage('page_71')">
                        Rejeitar Página
                    </button>
                    <div id="approvalStatus" class="mt-2"></div>
                </div>
            </div>
        </div>
        
        <div class="mt-4">
            <a href="../index.html" class="btn btn-primary">Voltar para o Dashboard</a>
        </div>
    </div>
    
    <div class="nav-bottom">
        <div class="container">
            <div class="d-flex justify-content-between">
                <span class="text-muted">Validação de migração de páginas</span>
                <span class="text-muted">Gerado em: 26/03/2025 15:33:07</span>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Variáveis de configuração
        const reportId = 'abfd402c';
        const pageId = 'page_71';
        
        // Função para buscar aprovações da API
        async function fetchApprovals() {
            try {
                const response = await fetch(`/api/approvals/${reportId}/${pageId}`);
                if (!response.ok) {
                    throw new Error('Erro ao buscar aprovações');
                }
                return await response.json();
            } catch (error) {
                console.error('Erro:', error);
                return {};
            }
        }
        
        // Função para enviar aprovação para a API
        async function sendApproval(status) {
            try {
                const response = await fetch(`/api/approvals/${reportId}/${pageId}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        status: status,
                        user: 'validador'
                    }),
                });
                
                if (!response.ok) {
                    throw new Error('Erro ao enviar aprovação');
                }
                
                return await response.json();
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao enviar aprovação. Tente novamente.');
                return null;
            }
        }
        
        // Gerenciamento de aprovação usando a API
        async function approvePage() {
            const result = await sendApproval('approved');
            if (result) {
                updateUI();
                alert("Página aprovada! Esta página aparecerá na seção de páginas aprovadas quando você voltar ao dashboard.");
            }
        }
        
        async function rejectPage() {
            const result = await sendApproval('rejected');
            if (result) {
                updateUI();
            }
        }
        
        async function updateUI() {
            const approval = await fetchApprovals();
            const status = document.getElementById('approvalStatus');
            const approveBtn = document.getElementById('approveBtn');
            const rejectBtn = document.getElementById('rejectBtn');
            const statusBadge = document.getElementById('pageStatusBadge');
            
            if (approval && approval.status) {
                if (approval.status === 'approved') {
                    status.innerHTML = '<div class="alert alert-success">Página aprovada!</div>';
                    statusBadge.textContent = 'Aprovada';
                    statusBadge.classList.remove('bg-danger');
                    statusBadge.classList.add('bg-success');
                    approveBtn.disabled = true;
                    rejectBtn.disabled = false;
                } else {
                    status.innerHTML = '<div class="alert alert-danger">Página rejeitada!</div>';
                    statusBadge.textContent = 'Rejeitada';
                    statusBadge.classList.remove('bg-success');
                    statusBadge.classList.add('bg-danger');
                    approveBtn.disabled = false;
                    rejectBtn.disabled = true;
                }
            } else {
                status.innerHTML = '';
                statusBadge.textContent = 'Inválida';
                statusBadge.classList.remove('bg-success');
                statusBadge.classList.add('bg-danger');
                approveBtn.disabled = false;
                rejectBtn.disabled = false;
            }
        }
        
        // Inicializar
        document.addEventListener('DOMContentLoaded', updateUI);
    </script>
</body>
</html>