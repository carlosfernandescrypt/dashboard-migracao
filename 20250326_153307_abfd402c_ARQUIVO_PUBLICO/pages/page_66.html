<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validação: Parte do governo de São Paulo e parte dos domínios da coroa de Espanha</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding-top: 20px; padding-bottom: 50px; }
        .validation-card { margin-bottom: 20px; }
        .error-details { 
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            white-space: pre-wrap;
        }
        .navbar { position: fixed; bottom: 0; width: 100%; z-index: 100; }
        .approval-btn { margin-top: 15px; }
        .nav-bottom { 
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #f8f9fa;
            border-top: 1px solid #ddd;
            padding: 10px 0;
            z-index: 1000;
        }
        .page-container { margin-bottom: 60px; }
    </style>
</head>
<body>
    <div class="container page-container">

        <h1 class="mb-4">Detalhes da Validação</h1>
        <div class="card validation-card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Parte do governo de São Paulo e parte dos domínios da coroa de Espanha</h5>
                <span id="pageStatusBadge" class="badge bg-danger">Inválida</span>
            </div>
            <div class="card-body">
                <div class="row mb-3">
                    <div class="col-md-6">
                        <strong>URL Original:</strong> 
                        <a href="https://www.arquivopublico.df.gov.br/parte-do-governo-de-sao-paulo" target="_blank" class="btn btn-sm btn-outline-primary">https://www.arquivopublico.df.gov.br/parte-do-governo-de-sao-paulo</a>
                    </div>
                    <div class="col-md-6">
                        <strong>URL Migrada:</strong> 
                        <a href="https://arquivopublico-hml.df.gov.br:8443/parte-do-governo-de-sao-paulo" target="_blank" class="btn btn-sm btn-outline-primary">https://arquivopublico-hml.df.gov.br:8443/parte-do-governo-de-sao-paulo</a>
                    </div>
                </div>
                
                <div class="mb-3">
                    <strong>Timestamp:</strong> 2025-03-25 20:46:01
                </div>
                
                <div class="mb-3">
                    <strong>Scores de Similaridade:</strong>
                    <ul class="list-group">
                        <li class="list-group-item">Conteúdo: 9%</li>
                        <li class="list-group-item">Estrutura: 15%</li>
                    </ul>
                </div>
                
                <h5 class="mt-4 mb-3">Erros Encontrados:</h5>
                <ul class="list-group">
<li class="list-group-item text-danger">Content Mismatch: Conteúdo principal não corresponde ao original (Similaridade: 9.00%):
Alterado de 'antes de o governo português manifestar' para 'para'
Alterado de 'preocupação por cartografar a região das minas de “goiaz”, trazendo para o sertão profissionais especializados para esse trabalho, como os padres matemáticos, os engenheiros militares e outros profissionais, os sertanistas foram os primeiros a representar geograficamente a região na dinâmica de estabelecer uma estrutura de organização do espaço que orientasse a exploração do ouro. os dois mapas que seguem são exemplares desta atividade sertanista. no processo de cartografia dos sertões empreendido pelo governo português, os mapas dos sertanistas irão subsidiar esses trabalhos. a “provisão” assinada pelo conselho ultramarino e encaminhada aos padres matemáticos exigia que os mapas fossem representados, além das exigências de cartografia propriamente ditas, com informações de caráter econômico, social e de limites entre capitanias. nos mapas, deveriam constar assinalados: “as cidades, vilas, lugares e povoações dos portugueses e dos índios, e as catas do ouro”; “os rios, se são navegáveis, até onde, com que embarcações, em que parte se passam a vão ou em canoas, que gente habita as suas margens, se há neles algum pescado, se tem arvoredos em sua vizinhança”; “a distância em que estão as cidades e vilas umas das outras”. além disso, não bastava apenas indicar no mapa. era necessário que esses dados fossem “historiados expondo-se neles por escrito e clareza que for possível, e em livro a parte por extenso tudo que houver mais digno de notar em cada uma das capitanias. ora, esses dados seriam mais fáceis de serem coletados aproveitando a experiência dos sertanistas que há mais de século tinham acumulado informações sobre os sertões. a própria “provisão” sugere didaticamente aos padres, “tomando para isso notícia da gente prática da terra”.1 de posse de todos esses dados, colhidos pela experiência prática dos sertanistas, índios, colonizadores, mineiros e outros mapas que, na verdade, não passavam de simples esboços cartográficos onde eram representados os mais recentes conhecimentos empíricos adquiridos por esses homens, desenhados, aliás, de forma grosseira e muito esquemática, os profissionais da cartografia, enviados por portugal, elaboraram vários mapas dos sertões.2 o grande estudioso de mapas de portugal e de suas colônias, jaime cortesão, já ressaltava que “lusos e luso-brasileiros, igualmente dotados dum agudo sentido do espaço, elaboraram muitas cartas, das quais a grande maioria se perdeu e de cuja existência temos notícia apenas por documentos escritos. comandantes de tropas, a quem as obrigações militares forçavam a grandes deslocamentos, sertanistas, cujas atividades múltiplas alargavam a muito vastos territórios o raio e ação, e a mineradores nômades, por necessidade ou ambição, se entregaram a esta tarefa”.3 é possível afirmar, portanto, que nos governos das capitanias, principalmente são paulo e rio de janeiro, havia a presença de mapas dos sertões produzidos pelos sertanistas e bandeirantes, informações estas que transitavam na alta hierarquia do poder colonial e metropolitano. por isso, se por um lado é verdadeira a objeção dos padres matemáticos de que esses mapas “andam erradíssimos […] nas alturas e longitudes”, por outro, até chegarem os mapas oficiais produzidos a mando do estado português, eram esses mapas que davam conta do que estava acontecendo nos sertões, aos representantes da coroa portuguesa e os ajudava em seus trabalhos administrativos. o mapa aqui apresentado, identificado pela' para 'introdução geral deste mapa, consulte neste guia:'
Alterado de 'nacional como' para 'nacional:'
Alterado de 'sam' para 'são'
Removido: '(1740), de autor anônimo e descoberto por affonso de taunay na década de 1920, apresenta o núcleo inicial da mineração no goiás e sugere a antecedência da descoberta das minas a sebastião marinho em 1592 durante o governo de felipe ii. no mapa descoberto por taunay, vila boa está representada por uma igreja como freguesia que era de são paulo, aparece com o título de “vª nª sª do rozairo dos guayazes” [vila de nossa senhora do rosário dos guayazes], que parece ser a referência à igreja construída por antonio pereira bahia em 1734, antes da matriz de sant’anna. além do aldeamento dos índios guayazes, dois arraiais que estão ao lado da vila fazem referência aos bandeirantes fundadores: arraial do capitão-mor bartolomeu bueno e arraial de joão leite (da silva ortiz). o arraial de bartolomeu bueno deve ser o da barra, local onde o capitão terminou seus dias em 19 de setembro de 1740, destituído de seus poderes de superintendente das minas, pobre e carregado de lembranças das aventuras sertanistas”.4 referências: 1 – cf. provisão de d. joão v aos padres matemáticos, diogo soares e domingos capacci, com as instruções para seus trabalhos no brasil. reproduzido por cortesão, jaime. história do brasil nos velhos mapas, ministério das relações exteriores/instituto rio branco, rio de janeiro, 1957, tomo ii, p.215. 2 – cf. ferreira, mário clemente. cartografar o sertão: a representação de mato grosso no século xviii. ii simpósio luso-brasileiro de cartografia histórica, lisboa, 25 e 26 de outubro de 2007. p. 2. disponível em: <www.igeo.pt/servicos/cdi/pdf/022_marioclementeferreira.pdf.> acesso em: 16 jul. 2012. 3 – cortesão, jaime. alexandre de gusmão e o tratado de madrid. rio de janeiro, ministério das relações exteriores/instituto rio branco, 1961, p. 492. 4 – vieira jr. wilson. nos sertões cerrados de brasília: a cartografia como argumento para releitura da história do distrito federal. iii simpósio luso-brasileiro de cartografia histórica. ouro preto/mg, 2009. disponível em: <https://www.ufmg.br/rededemuseus/crch/vieira_jr_nos-sertoes-cerrados-de-brasilia-a-cartografia-como-argumento.pdf>. acesso em: 27 ago. 2013.'
Alterado de '51,5' para '48,5'
Alterado de '71' para '58'
Alterado de 'od:cart325602' para 'od:cart525837'
Alterado de 'dvd-0012)' para 'dvd-0018)'</li><li class="list-group-item text-danger">HTML Structure Mismatch: Estrutura HTML divergente (Similaridade: 15.00% < 80.0%)</li>
                </ul>
                
                <div class="approval-btn">
                    <button id="approveBtn" class="btn btn-success" onclick="approvePage('page_66')">
                        Aprovar Página
                    </button>
                    <button id="rejectBtn" class="btn btn-danger ms-2" onclick="rejectPage('page_66')">
                        Rejeitar Página
                    </button>
                    <div id="approvalStatus" class="mt-2"></div>
                </div>
            </div>
        </div>
        
        <div class="mt-4">
            <a href="../index.html" class="btn btn-primary">Voltar para o Dashboard</a>
        </div>
    </div>
    
    <div class="nav-bottom">
        <div class="container">
            <div class="d-flex justify-content-between">
                <span class="text-muted">Validação de migração de páginas</span>
                <span class="text-muted">Gerado em: 26/03/2025 15:33:07</span>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Variáveis de configuração
        const reportId = 'abfd402c';
        const pageId = 'page_66';
        
        // Função para buscar aprovações da API
        async function fetchApprovals() {
            try {
                const response = await fetch(`/api/approvals/${reportId}/${pageId}`);
                if (!response.ok) {
                    throw new Error('Erro ao buscar aprovações');
                }
                return await response.json();
            } catch (error) {
                console.error('Erro:', error);
                return {};
            }
        }
        
        // Função para enviar aprovação para a API
        async function sendApproval(status) {
            try {
                const response = await fetch(`/api/approvals/${reportId}/${pageId}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        status: status,
                        user: 'validador'
                    }),
                });
                
                if (!response.ok) {
                    throw new Error('Erro ao enviar aprovação');
                }
                
                return await response.json();
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao enviar aprovação. Tente novamente.');
                return null;
            }
        }
        
        // Gerenciamento de aprovação usando a API
        async function approvePage() {
            const result = await sendApproval('approved');
            if (result) {
                updateUI();
                alert("Página aprovada! Esta página aparecerá na seção de páginas aprovadas quando você voltar ao dashboard.");
            }
        }
        
        async function rejectPage() {
            const result = await sendApproval('rejected');
            if (result) {
                updateUI();
            }
        }
        
        async function updateUI() {
            const approval = await fetchApprovals();
            const status = document.getElementById('approvalStatus');
            const approveBtn = document.getElementById('approveBtn');
            const rejectBtn = document.getElementById('rejectBtn');
            const statusBadge = document.getElementById('pageStatusBadge');
            
            if (approval && approval.status) {
                if (approval.status === 'approved') {
                    status.innerHTML = '<div class="alert alert-success">Página aprovada!</div>';
                    statusBadge.textContent = 'Aprovada';
                    statusBadge.classList.remove('bg-danger');
                    statusBadge.classList.add('bg-success');
                    approveBtn.disabled = true;
                    rejectBtn.disabled = false;
                } else {
                    status.innerHTML = '<div class="alert alert-danger">Página rejeitada!</div>';
                    statusBadge.textContent = 'Rejeitada';
                    statusBadge.classList.remove('bg-success');
                    statusBadge.classList.add('bg-danger');
                    approveBtn.disabled = false;
                    rejectBtn.disabled = true;
                }
            } else {
                status.innerHTML = '';
                statusBadge.textContent = 'Inválida';
                statusBadge.classList.remove('bg-success');
                statusBadge.classList.add('bg-danger');
                approveBtn.disabled = false;
                rejectBtn.disabled = false;
            }
        }
        
        // Inicializar
        document.addEventListener('DOMContentLoaded', updateUI);
    </script>
</body>
</html>